<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ 5„Å§„ÅÆÂûã Ë®∫Êñ≠</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --R: #e84393;   /* „É¨„Éù„Éº„Çø„Éº */
      --A: #3b82f6;   /* „Ç¢„Éº„Éì„Éà„É©„Éº„Ç∏ */
      --C: #8b5cf6;   /* „Ç≥„É©„Éú */
      --P: #10b981;   /* „Éó„É≠„Ç∑„É•„Éº„Éû„Éº */
      --U: #f59e0b;   /* „Ç¶„Éº„Éê„Éº„Ç§„Éº„ÉÑ */
      --bg: #0f0f1a;
      --surface: #1a1a2e;
      --card: #16213e;
      --text: #e2e8f0;
      --muted: #94a3b8;
      --radius: 16px;
    }

    body {
      font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 16px 60px;
    }

    /* ===== HEADER ===== */
    .app-header {
      text-align: center;
      margin-bottom: 32px;
      max-width: 640px;
    }
    .app-header .badge {
      display: inline-block;
      background: linear-gradient(135deg, #e84393, #8b5cf6);
      color: #fff;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: .12em;
      padding: 4px 14px;
      border-radius: 100px;
      margin-bottom: 14px;
      text-transform: uppercase;
    }
    .app-header h1 {
      font-size: clamp(22px, 5vw, 32px);
      font-weight: 800;
      line-height: 1.35;
      background: linear-gradient(135deg, #fff 30%, #94a3b8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }
    .app-header p {
      color: var(--muted);
      font-size: 14px;
      line-height: 1.7;
    }

    /* ===== PROGRESS ===== */
    .progress-wrap {
      width: 100%;
      max-width: 560px;
      margin-bottom: 28px;
    }
    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    .progress-bar-bg {
      width: 100%;
      height: 6px;
      background: #2d3748;
      border-radius: 100px;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #e84393, #8b5cf6);
      border-radius: 100px;
      transition: width .4s cubic-bezier(.4,0,.2,1);
    }

    /* ===== CARD ===== */
    .card {
      background: var(--card);
      border: 1px solid #2d3748;
      border-radius: var(--radius);
      padding: 32px;
      width: 100%;
      max-width: 560px;
      animation: fadeSlide .35s ease;
    }
    @keyframes fadeSlide {
      from { opacity: 0; transform: translateY(18px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .q-number {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: .15em;
      color: var(--muted);
      text-transform: uppercase;
      margin-bottom: 12px;
    }
    .q-text {
      font-size: clamp(16px, 3.5vw, 20px);
      font-weight: 700;
      line-height: 1.5;
      margin-bottom: 24px;
    }

    /* ===== OPTIONS ===== */
    .options { display: flex; flex-direction: column; gap: 10px; }
    .option {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 14px 16px;
      border: 1.5px solid #2d3748;
      border-radius: 12px;
      cursor: pointer;
      transition: all .2s;
      background: transparent;
      text-align: left;
      width: 100%;
      color: var(--text);
      font-size: 14px;
      line-height: 1.5;
    }
    .option:hover { border-color: #4a5568; background: #1e293b; }
    .option.selected {
      border-color: #8b5cf6;
      background: rgba(139,92,246,.1);
    }
    .option-icon {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 2px solid #4a5568;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      flex-shrink: 0;
      color: var(--muted);
      transition: all .2s;
    }
    .option.selected .option-icon {
      background: #8b5cf6;
      border-color: #8b5cf6;
      color: #fff;
    }

    /* ===== NAVIGATION ===== */
    .nav-row {
      display: flex;
      justify-content: flex-end;
      margin-top: 28px;
    }
    .btn {
      padding: 12px 28px;
      border-radius: 10px;
      border: none;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity .2s, transform .15s;
    }
    .btn:active { transform: scale(.97); }
    .btn-primary {
      background: linear-gradient(135deg, #8b5cf6, #e84393);
      color: #fff;
    }
    .btn-primary:disabled { opacity: .35; cursor: not-allowed; }
    .btn-ghost {
      background: transparent;
      border: 1.5px solid #4a5568;
      color: var(--muted);
      margin-right: 10px;
    }

    /* ===== START SCREEN ===== */
    .start-screen { text-align: center; }
    .type-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 10px;
      margin: 24px 0 32px;
    }
    .type-chip {
      padding: 10px 12px;
      border-radius: 10px;
      font-size: 13px;
      font-weight: 700;
      text-align: center;
      color: #fff;
    }
    .start-btn {
      width: 100%;
      padding: 16px;
      font-size: 16px;
    }

    /* ===== RESULT SCREEN ===== */
    .result-screen { animation: fadeSlide .4s ease; }
    .result-hero {
      text-align: center;
      padding: 24px 0 28px;
    }
    .result-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      margin: 0 auto 16px;
      box-shadow: 0 0 32px rgba(0,0,0,.4);
    }
    .result-label {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .15em;
      text-transform: uppercase;
      margin-bottom: 6px;
      opacity: .75;
    }
    .result-title {
      font-size: clamp(24px, 5vw, 34px);
      font-weight: 900;
      margin-bottom: 10px;
    }
    .result-tagline {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.6;
    }

    .result-body { margin-top: 8px; }
    .result-section {
      background: #0f172a;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 14px;
    }
    .result-section h3 {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: .1em;
      text-transform: uppercase;
      margin-bottom: 10px;
      opacity: .65;
    }
    .result-section p { font-size: 14px; line-height: 1.75; color: #cbd5e1; }

    .strengths-list { list-style: none; display: flex; flex-direction: column; gap: 8px; }
    .strengths-list li {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      color: #cbd5e1;
    }
    .strengths-list li::before {
      content: '';
      width: 8px; height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    /* Score bars */
    .score-bars { display: flex; flex-direction: column; gap: 10px; }
    .score-row { display: flex; align-items: center; gap: 10px; font-size: 13px; }
    .score-name { width: 110px; flex-shrink: 0; font-size: 12px; }
    .score-bar-bg { flex: 1; height: 8px; background: #2d3748; border-radius: 100px; overflow: hidden; }
    .score-bar-fill { height: 100%; border-radius: 100px; transition: width 1s cubic-bezier(.4,0,.2,1); }
    .score-pct { width: 32px; text-align: right; font-size: 11px; color: var(--muted); }

    .retry-btn {
      width: 100%;
      padding: 14px;
      font-size: 15px;
      margin-top: 8px;
      background: transparent;
      border: 1.5px solid #4a5568;
      color: var(--muted);
    }
    .retry-btn:hover { border-color: #8b5cf6; color: #fff; }

    /* utils */
    .hidden { display: none !important; }
  </style>
</head>
<body>

<div class="app-header">
  <div class="badge">Ë®∫Êñ≠„ÉÑ„Éº„É´</div>
  <h1>„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ<br>5„Å§„ÅÆÂûã Ë®∫Êñ≠</h1>
  <p>8„Å§„ÅÆË≥™Âïè„Å´Á≠î„Åà„Çã„Å†„Åë„Åß„ÄÅ„ÅÇ„Å™„Åü„Å´„Å¥„Å£„Åü„Çä„Å™<br>„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ„ÅÆÂûã„Åå„Çè„Åã„Çä„Åæ„Åô„ÄÇ</p>
</div>

<!-- Progress (hidden on start/result) -->
<div class="progress-wrap hidden" id="progressWrap">
  <div class="progress-label">
    <span id="progressText">Ë≥™Âïè 1 / 8</span>
    <span id="progressPct">0%</span>
  </div>
  <div class="progress-bar-bg">
    <div class="progress-bar-fill" id="progressFill" style="width:0%"></div>
  </div>
</div>

<!-- ===== START SCREEN ===== -->
<div class="card start-screen" id="startScreen">
  <p style="color:var(--muted);font-size:14px;margin-bottom:4px;text-align:center;">Ë®∫Êñ≠„Åß„Åç„Çã5„Å§„ÅÆÂûã</p>
  <div class="type-grid">
    <div class="type-chip" style="background:linear-gradient(135deg,#e84393,#c2185b);">üì° „É¨„Éù„Éº„Çø„ÉºÂûã</div>
    <div class="type-chip" style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);">üîÑ „Ç¢„Éº„Éì„Éà„É©„Éº„Ç∏Âûã</div>
    <div class="type-chip" style="background:linear-gradient(135deg,#8b5cf6,#6d28d9);">ü§ù „Ç≥„É©„ÉúÂûã</div>
    <div class="type-chip" style="background:linear-gradient(135deg,#10b981,#047857);">üìö „Éó„É≠„Ç∑„É•„Éº„Éû„ÉºÂûã</div>
    <div class="type-chip" style="background:linear-gradient(135deg,#f59e0b,#d97706);">üö¥ „Ç¶„Éº„Éê„Éº„Ç§„Éº„ÉÑÂûã</div>
  </div>
  <button class="btn btn-primary start-btn" onclick="startQuiz()">Ë®∫Êñ≠„Çπ„Çø„Éº„Éà ‚Üí</button>
</div>

<!-- ===== QUIZ SCREEN ===== -->
<div class="card hidden" id="quizScreen">
  <div class="q-number" id="qNumber">Q1 / 8</div>
  <div class="q-text" id="qText"></div>
  <div class="options" id="optionsContainer"></div>
  <div class="nav-row">
    <button class="btn btn-ghost hidden" id="backBtn" onclick="goBack()">Êàª„Çã</button>
    <button class="btn btn-primary" id="nextBtn" onclick="goNext()" disabled>Ê¨°„Å∏ ‚Üí</button>
  </div>
</div>

<!-- ===== RESULT SCREEN ===== -->
<div class="card result-screen hidden" id="resultScreen">
  <div class="result-hero">
    <div class="result-icon" id="resultIcon"></div>
    <div class="result-label">„ÅÇ„Å™„Åü„ÅÆÂûã</div>
    <div class="result-title" id="resultTitle"></div>
    <div class="result-tagline" id="resultTagline"></div>
  </div>

  <div class="result-body">
    <div class="result-section">
      <h3>„Å©„Çì„Å™ÂûãÔºü</h3>
      <p id="resultDesc"></p>
    </div>
    <div class="result-section">
      <h3>„ÅÇ„Å™„Åü„ÅÆÂº∑„Åø</h3>
      <ul class="strengths-list" id="resultStrengths"></ul>
    </div>
    <div class="result-section">
      <h3>ÊúÄÂàù„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥</h3>
      <p id="resultAction"></p>
    </div>
    <div class="result-section">
      <h3>„Çπ„Ç≥„Ç¢ÂÜÖË®≥</h3>
      <div class="score-bars" id="scoreBars"></div>
    </div>
  </div>

  <button class="btn retry-btn" onclick="retry()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã</button>
</div>

<script>
// ===== DATA =====
const TYPES = {
  R: {
    key: 'R',
    name: '„É¨„Éù„Éº„Çø„ÉºÂûã',
    emoji: 'üì°',
    color: '#e84393',
    gradient: 'linear-gradient(135deg,#e84393,#c2185b)',
    tagline: 'Èù¢ÁôΩ„ÅÑ‰∫∫„Éª„Çπ„Ç¥„Ç§‰∫∫„ÇíÁ¥π‰ªã„Åó„Å¶Á®º„Åê„ÄåÁô∫‰ø°„Éó„É≠„Éá„É•„Éº„Çµ„Éº„Äç',
    desc: '„Éô„Çπ„Éà„Çª„É©„Éº‰ΩúÂÆ∂„ÇÑÂ∞ÇÈñÄÂÆ∂„ÄÅÈù¢ÁôΩ„ÅÑ‰∫∫„ÇíÂèñÊùê„ÉªÁ¥π‰ªã„Åó„Å¶Áô∫‰ø°„Åô„Çã„Çπ„Çø„Ç§„É´„ÄÇËá™ÂàÜ„Åå‰∏ªÂΩπ„Åß„Å™„Åè„Äå‰∫∫„ÇíËºù„Åã„Åõ„Çã„Äç„ÅÆ„ÅåÂæóÊÑè„Å™‰∫∫Âêë„Åë„ÄÇ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ„ÅÆËëóËÄÖ„ÉªÈï∑ÂÄâÊ∞èËá™Ë∫´„ÇÇ„Åì„ÅÆÂûã„Åß24Âπ¥‰ª•‰∏äÊ¥ªË∫ç„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    strengths: ['‰∫∫ËÑà„Éª„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÇíÊ¥ª„Åã„Åõ„Çã', 'Ëá™ÂàÜ„ÅÆÂ∞ÇÈñÄÊÄß„Åå„Å™„Åè„Å¶„ÇÇOK', 'Á¥π‰ªã„Åó„Åü‰∫∫„Åã„Çâ„ÅÆ‰ø°È†º„ÅåÂæó„ÇÑ„Åô„ÅÑ', 'Â§öÊßò„Å™Ê•≠Áïå„ÅÆÁü•Ë≠ò„ÅåËá™ÁÑ∂„Å´ËìÑÁ©ç„Åï„Çå„Çã'],
    action: '„Åæ„Åö„Äå„Åì„ÅÆ‰∫∫Èù¢ÁôΩ„ÅÑÔºÅ„Äç„Å®ÊÄù„Åà„Çã‰∫∫„Çí1‰∫∫Ê±∫„ÇÅ„Å¶„ÄÅ„Åù„ÅÆ‰∫∫„ÇíÁ¥π‰ªã„Åô„ÇãË®ò‰∫ã„ÉªÂãïÁîª„ÉªSNSÊäïÁ®ø„Çí1Êú¨‰Ωú„Å£„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ„Ç§„É≥„Çø„Éì„É•„ÉºÂΩ¢Âºè„Åß„ÇÇOK„Åß„Åô„ÄÇ',
  },
  A: {
    key: 'A',
    name: '„Ç¢„Éº„Éì„Éà„É©„Éº„Ç∏Âûã',
    emoji: 'üîÑ',
    color: '#3b82f6',
    gradient: 'linear-gradient(135deg,#3b82f6,#1d4ed8)',
    tagline: 'Â∏ÇÂ†¥Èñì„ÅÆ"ÊÉÖÂ†±Â∑Æ"„Çí‰æ°ÂÄ§„Å´Â§â„Åà„Çã„ÄåÊÉÖÂ†±„ÅÆÊ©ãÊ∏°„ÅóÂΩπ„Äç',
    desc: 'Êµ∑Â§ñ„ÅÆÊúÄÊñ∞ÊÉÖÂ†±„ÇÑÁï∞Ê•≠Á®Æ„ÅÆ„Éé„Ç¶„Éè„Ç¶„ÇíÊó•Êú¨Âêë„Åë„Å´ÁøªË®≥„ÉªÂÜçÁ∑®ÈõÜ„Åó„Å¶Â±ä„Åë„ÇãÂûã„ÄÇAIÊôÇ‰ª£„ÅÆ‰ªä„ÄÅ„É™„Çµ„Éº„ÉÅ„ÉªÁøªË®≥„Éª„Åæ„Å®„ÇÅ‰ΩúÊ•≠„ÇíAI„ÅåÂ§ßÂπÖ„Å´„Çµ„Éù„Éº„Éà„Åó„Å¶„Åè„Çå„Çã„Åü„ÇÅ„ÄÅÊúÄ„ÇÇÂèÇÂÖ•„Åó„ÇÑ„Åô„ÅÑÂûã„ÅÆ„Å≤„Å®„Å§„Åß„Åô„ÄÇ',
    strengths: ['Êµ∑Â§ñ„ÇÑÁï∞Ê•≠Á®Æ„Å∏„ÅÆÂ•ΩÂ•áÂøÉ„ÅåÊ≠¶Âô®„Å´„Å™„Çã', 'AI„Å®„ÅÆÁõ∏ÊÄß„ÅåÈùûÂ∏∏„Å´ËâØ„ÅÑ', '„Éï„Ç©„É≠„ÉØ„Éº„Çº„É≠„ÉªÂÆüÁ∏æ„Çº„É≠„Åã„Çâ„Åß„ÇÇÂßã„ÇÅ„Çâ„Çå„Çã', 'ÊÉÖÂ†±Ê†ºÂ∑Æ„ÅåÂ§ß„Åç„ÅÑ„Åª„Å©‰æ°ÂÄ§„ÅåÈ´ò„Åæ„Çã'],
    action: 'Â•Ω„Åç„Å™Êµ∑Â§ñ„É°„Éá„Ç£„Ç¢„ÉªSNS„ÉªPodcast„Çí1„Å§Ê±∫„ÇÅ„Å¶„ÄÅ„Åù„ÅÆÊÉÖÂ†±„ÇíÊó•Êú¨Ë™û„Åß„Åæ„Å®„ÇÅ„ÅünoteË®ò‰∫ã„ÇÑ„É°„É´„Éû„Ç¨„Çí1Êú¨Êõ∏„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ',
  },
  C: {
    key: 'C',
    name: '„Ç≥„É©„ÉúÂûã',
    emoji: 'ü§ù',
    color: '#8b5cf6',
    gradient: 'linear-gradient(135deg,#8b5cf6,#6d28d9)',
    tagline: '„Ç≥„É©„Éú„Åß‰∏ÄÊ∞ó„Å´„Éû„Éº„Ç±„ÉÉ„Éà„ÇíÂ∫É„Åí„Çã„ÄåÂä†ÈÄüÂûã„Éó„É¨„Éº„É§„Éº„Äç',
    desc: 'SNS„ÉªYouTube„Éª„É©„Ç§„ÉñÈÖç‰ø°„Å™„Å©„ÅßÂΩ±ÈüøÂäõ„ÅÆ„ÅÇ„Çã‰∫∫„Å®„Ç≥„É©„Éú„Åó„ÄÅ‰∏ÄÊ∞ó„Å´Ë™çÁü•„Å®„Éû„Éº„Ç±„ÉÉ„Éà„ÇíÊã°Â§ß„Åô„ÇãÂûã„ÄÇ„Åô„Åß„Å´„ÅÇ„ÇãÁ®ãÂ∫¶„ÅÆÂÆüÁ∏æ„ÇÑ„Éï„Ç©„É≠„ÉØ„Éº„ÇíÊåÅ„Å§‰∫∫„Åå„ÄåÊúàÂèé100‰∏á‚Üí1000‰∏á„Äç„Å∏„Çπ„Ç±„Éº„É´„Åô„Çã„ÅÆ„Å´ÊúÄÈÅ©„Åß„Åô„ÄÇ',
    strengths: ['Êó¢Â≠ò„ÅÆÂΩ±ÈüøÂäõ„ÇíÊúÄÂ§ßÈôê„Å´Ê¥ª„Åã„Åõ„Çã', '„Ç≥„É©„ÉúÁõ∏Êâã„ÅÆÈ°ßÂÆ¢„Çí‰∏ÄÊ∞ó„Å´Áç≤Âæó„Åß„Åç„Çã', 'Áü≠ÊúüÈñì„ÅßË™çÁü•„ÇíÁàÜÁô∫ÁöÑ„Å´Â∫É„Åí„Çâ„Çå„Çã', 'Áõ∏‰∫í„Å´„É°„É™„ÉÉ„Éà„Åå„ÅÇ„Çã„Åü„ÇÅÈñ¢‰øÇÊßãÁØâ„Åó„ÇÑ„Åô„ÅÑ'],
    action: 'Ëá™ÂàÜ„ÅÆ„Ç∏„É£„É≥„É´„Åß„Äå„Ç≥„É©„Éú„Åó„Åü„ÅÑÔºÅ„Äç„Å®ÊÄù„Åà„Çã‰∫∫„Çí3‰∫∫„É™„Çπ„Éà„Ç¢„ÉÉ„Éó„Åó„ÄÅ„Åæ„Åö1‰∫∫„Å´DM„Åã„É°„Éº„É´„ÅßÁõ∏Ë´á„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ',
  },
  P: {
    key: 'P',
    name: '„Éó„É≠„Ç∑„É•„Éº„Éû„ÉºÂûã',
    emoji: 'üìö',
    color: '#10b981',
    gradient: 'linear-gradient(135deg,#10b981,#047857)',
    tagline: 'Â≠¶„Å≥„Å™„Åå„ÇâÁ®º„Åê„ÄåÊàêÈï∑Áô∫‰ø°„Éó„É≠„Éá„É•„Éº„Çµ„Éº„Äç',
    desc: '„Éó„É≠„Éá„É•„Éº„Çµ„ÉºÔºàÁîüÁî£ËÄÖÔºâ„Å®Ê∂àË≤ªËÄÖÔºà„Ç≥„É≥„Ç∑„É•„Éº„Éû„ÉºÔºâ„ÇíÂêåÊôÇ„Å´„ÇÑ„ÇãÂûã„ÄÇ„Çª„Éü„Éä„Éº„ÉªË¨õÂ∫ß„Å´ÂèÇÂä†„Åó„Å™„Åå„Çâ„Åù„ÅÆÂ≠¶„Å≥„Çí„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Å®„Åó„Å¶Áô∫‰ø°„ÅóÂèéÁõäÂåñ„Åó„Åæ„Åô„ÄÇÈï∑ÂÄâÊ∞è„ÇÇÂêÑÊ•≠Áïå„ÅÆÂ∞ÇÈñÄÂÆ∂„Çí„Éó„É≠„Éá„É•„Éº„Çπ„Åó„Å™„Åå„Çâ„Çª„Éü„Éä„Éº„ÅßÂ≠¶„Å≥Á∂ö„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    strengths: ['Â≠¶„Å∂„Ç≥„Çπ„Éà„ÅåÂèéÁõä„Å´„Å™„ÇãÂ•ΩÂæ™Áí∞', '„Äå‰∏ÄÁ∑í„Å´ÊàêÈï∑„Åô„Çã„ÄçË™≠ËÄÖ„Å®„ÅÆÂÖ±ÊÑü„ÅåÁîü„Åæ„Çå„ÇÑ„Åô„ÅÑ', 'ÁâπÂÆöÂàÜÈáé„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Å™„Åè„Å¶„ÇÇOK', 'Á∂ôÁ∂ö„Åô„Çã„Åª„Å©„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅåÊ∑±„Åæ„Çã'],
    action: '‰ªäÂ≠¶„Çì„Åß„ÅÑ„Çã„Åì„Å®„ÉªÂ≠¶„Å≥„Åü„ÅÑ„Åì„Å®„Çí1„Å§Ê±∫„ÇÅ„Å¶„Äå„Äá„Äá„ÇíÂ≠¶„Çì„Åß„Åø„Åü„Äç„Å®„ÅÑ„ÅÜË®ò‰∫ã„ÇÑSNSÊäïÁ®ø„Çí‰ªäÊó•„Åã„ÇâÂßã„ÇÅ„Åæ„Åó„Çá„ÅÜ„ÄÇ',
  },
  U: {
    key: 'U',
    name: '„Ç¶„Éº„Éê„Éº„Ç§„Éº„ÉÑÂûã',
    emoji: 'üö¥',
    color: '#f59e0b',
    gradient: 'linear-gradient(135deg,#f59e0b,#d97706)',
    tagline: 'ÊÉÖÂ†±„ÇíÈõÜ„ÇÅ„Å¶Â±ä„Åë„Çã„Äå„Ç≠„É•„É¨„Éº„Çø„ÉºÂûã„Ç≥„É≥„ÉÜ„É≥„ÉÑÈÖçÈÅî‰∫∫„Äç',
    desc: '„Åô„Åß„Å´‰∏ñ„ÅÆ‰∏≠„Å´„ÅÇ„ÇãÊÉÖÂ†±„Çí„É™„Çµ„Éº„ÉÅ„Éª„Ç≠„É•„É¨„Éº„Ç∑„Éß„É≥„ÉªÂÜçÁ∑®ÈõÜ„Åó„Å¶Â±ä„Åë„ÇãÂûã„ÄÇ„Äå„Äá„Äá„ÅÆÊú¨100ÂÜä„Çí1ÂÜä„Å´„Åæ„Å®„ÇÅ„Å¶„Åø„Åü„ÄçÁ≥ª„Åå„Åæ„Åï„Å´„Åì„Çå„ÄÇ„Éï„Ç©„É≠„ÉØ„Éº„Çº„É≠„ÉªÂÆüÁ∏æ„Çº„É≠„ÉªÁâπÂà•„Å™„Çπ„Ç≠„É´„Å™„Åó„Åß„ÇÇ‰ªäÊó•„Åã„ÇâÂßã„ÇÅ„Çâ„Çå„ÇãÊúÄ„ÇÇÂÖ•ÈñÄ„Åó„ÇÑ„Åô„ÅÑÂûã„Åß„Åô„ÄÇ',
    strengths: ['„Çπ„Ç≠„É´„ÇÇÂÆüÁ∏æ„ÇÇ„Çº„É≠„Åã„ÇâÂßã„ÇÅ„Çâ„Çå„Çã', 'ÊÉÖÂ†±ÂèéÈõÜÂäõ„Å†„Åë„Åß‰æ°ÂÄ§„ÇíÁîü„ÅøÂá∫„Åõ„Çã', 'AI„Å®ÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Å®ÁàÜÈÄü„ÅßÈáèÁî£„Åß„Åç„Çã', 'ÈúÄË¶Å„ÅÆ„ÅÇ„Çã„ÉÜ„Éº„Éû„ÇíÈÅ∏„Åπ„Å∞Á¢∫ÂÆü„Å´Ë™≠„Åæ„Çå„Çã'],
    action: 'ËààÂë≥„ÅÆ„ÅÇ„Çã„ÉÜ„Éº„Éû„Çí1„Å§ÈÅ∏„Å≥„Äå„Äá„Äá„Å´„Å§„ÅÑ„Å¶Ë™ø„Åπ„Å¶„Åø„Åü„Éª„Åæ„Å®„ÇÅ„Å¶„Åø„Åü„Äç„Å®„ÅÑ„ÅÜË®ò‰∫ã„Çínote„ÇÑ„Éñ„É≠„Ç∞„Å´ÊäïÁ®ø„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ',
  },
};

const QUESTIONS = [
  {
    text: '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ„ÅÆÁµåÈ®ì„ÅØ„Å©„Çå„Åè„Çâ„ÅÑ„ÅÇ„Çä„Åæ„Åô„ÅãÔºü',
    options: [
      { text: 'ÂÖ®„Åè„Å™„ÅÑ„ÄÇ„Åì„Çå„Åã„ÇâÂßã„ÇÅ„Åü„ÅÑ', scores: { U:3, A:2 } },
      { text: 'Â∞ë„ÅóË©¶„Åó„Åü„Åì„Å®„Åå„ÅÇ„ÇãÁ®ãÂ∫¶', scores: { P:3, A:1, U:1 } },
      { text: '„ÅÇ„ÇãÁ®ãÂ∫¶„ÇÑ„Å£„Å¶„Åø„Å¶„ÄÅÂ∞ë„ÅóÂèéÁõä„ÇÇÂá∫„Å¶„ÅÑ„Çã', scores: { R:2, P:2 } },
      { text: '„Åã„Å™„ÇäÁµåÈ®ì„Åå„ÅÇ„Çä„ÄÅÂÆüÁ∏æ„ÇÇ„ÅÇ„Çã', scores: { C:3, R:2 } },
    ],
  },
  {
    text: 'SNS„ÅÆ„Éï„Ç©„É≠„ÉØ„ÉºÊï∞„ÇÑË™çÁü•Â∫¶„ÅØÔºü',
    options: [
      { text: '„Éï„Ç©„É≠„ÉØ„Éº„ÅØ„Åª„Åº„Çº„É≠„ÄÇÁÑ°Âêç„ÅßOK', scores: { U:3, A:2 } },
      { text: 'Êï∞Áôæ„ÄúÊï∞ÂçÉ‰∫∫Á®ãÂ∫¶„ÅÑ„Çã', scores: { P:2, R:1, A:1 } },
      { text: 'Êï∞‰∏á‰∫∫‰ª•‰∏ä„ÅÆ„Éï„Ç©„É≠„ÉØ„Éº„ÇÑË™≠ËÄÖ„Åå„ÅÑ„Çã', scores: { C:3, R:2 } },
      { text: '„Éï„Ç©„É≠„ÉØ„Éº„ÅØÂ∞ë„Å™„ÅÑ„Åå„ÄÅ„É™„Ç¢„É´„Å™„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅØÂº∑„ÅÑ', scores: { R:3, P:1 } },
    ],
  },
  {
    text: 'Ëá™ÂàÜ„ÅåÊúÄ„ÇÇÂæóÊÑè„ÉªÂ•Ω„Åç„Å™Ê¥ªÂãï„ÅØ„Å©„Çå„Åß„Åô„ÅãÔºü',
    options: [
      { text: 'ÊÉÖÂ†±„ÇíÈõÜ„ÇÅ„Å¶Êï¥ÁêÜ„Éª„Åæ„Å®„ÇÅ„Çã„Åì„Å®', scores: { U:3, A:1 } },
      { text: 'Â≠¶„Çì„Å†„Åì„Å®„Çí„Ç¢„Ç¶„Éà„Éó„ÉÉ„Éà„ÉªÁô∫‰ø°„Åô„Çã„Åì„Å®', scores: { P:3 } },
      { text: 'Èù¢ÁôΩ„ÅÑ‰∫∫„ÇÑÂ∞ÇÈñÄÂÆ∂„ÇíÁ¥π‰ªã„ÉªÁπã„Åí„Çã„Åì„Å®', scores: { R:3 } },
      { text: 'Êµ∑Â§ñ„ÇÑÁï∞Ê•≠Á®Æ„ÅÆÊÉÖÂ†±„ÇíÊó•Êú¨Âêë„Åë„Å´Â±ä„Åë„Çã„Åì„Å®', scores: { A:3 } },
      { text: 'ÂΩ±ÈüøÂäõ„ÅÆ„ÅÇ„Çã‰∫∫„Å®„Ç≥„É©„Éú„Åó„Å¶„Ç∑„Éä„Ç∏„Éº„ÇíÂá∫„Åô„Åì„Å®', scores: { C:3 } },
    ],
  },
  {
    text: 'ÊúàÂèé„ÅÆÂΩìÈù¢„ÅÆÁõÆÊ®ô„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
    options: [
      { text: '„Åæ„ÅöÊúà10„Äú30‰∏áÂÜÜ„ÇíÈÅîÊàê„Åó„Åü„ÅÑ', scores: { U:2, A:2, P:1 } },
      { text: 'Êúà30„Äú100‰∏áÂÜÜ„ÇíÂÆâÂÆö„Åï„Åõ„Åü„ÅÑ', scores: { P:2, R:2, A:1 } },
      { text: 'Êúà100‰∏á„Äú1000‰∏áÂÜÜ‰ª•‰∏ä„ÇíÁãô„ÅÑ„Åü„ÅÑ', scores: { C:3, R:1 } },
    ],
  },
  {
    text: 'Ëá™ÂàÜ„ÅÆÂ∞ÇÈñÄÊÄß„ÉªÂº∑„Åø„Å´„Å§„ÅÑ„Å¶ÂΩì„Å¶„ÅØ„Åæ„Çã„ÅÆ„ÅØÔºü',
    options: [
      { text: 'ÁâπÂà•„Å™„Çπ„Ç≠„É´„ÇÑÂ∞ÇÈñÄÊÄß„ÅØÁâπ„Å´„Å™„ÅÑ', scores: { U:3, A:1 } },
      { text: '‰ªä„Åæ„Åï„Å´‰Ωï„Åã„ÇíÂ≠¶„Çì„Åß„ÅÑ„ÇãÊúÄ‰∏≠', scores: { P:3 } },
      { text: 'Â∞ÇÈñÄÊÄß„Çà„Çä„ÇÇ‰∫∫ËÑà„Éª„Ç≥„Éç„ÇØ„Ç∑„Éß„É≥„ÅåÂº∑„ÅÑ', scores: { R:3 } },
      { text: 'Êµ∑Â§ñÊÉÖÂ†±„ÇÑÁï∞Ê•≠Á®Æ„ÅÆÁü•Ë≠ò„Å´Ë©≥„Åó„ÅÑ', scores: { A:3 } },
      { text: 'ÁâπÂÆöÂàÜÈáé„Å´Â∞ÇÈñÄÊÄß„Åå„ÅÇ„ÇäÂÆüÁ∏æ„ÇÇ„ÅÇ„Çã', scores: { C:3, R:1 } },
    ],
  },
  {
    text: '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí‰Ωú„Çã„Å®„Åç„ÅÆÂ•Ω„Åç„Å™„Çπ„Çø„Ç§„É´„ÅØÔºü',
    options: [
      { text: 'Êú¨„ÉªË®ò‰∫ã„Éª„Éç„ÉÉ„Éà„ÇíË™≠„Çì„ÅßÊÉÖÂ†±„Çí„Åæ„Å®„ÇÅ„Çã', scores: { U:3 } },
      { text: '„Çª„Éü„Éä„Éº„ÇÑË¨õÂ∫ß„Å´ÂèÇÂä†„Åó„Å¶Â≠¶„Å≥„ÇíÁô∫‰ø°„Åô„Çã', scores: { P:3 } },
      { text: 'Èù¢ÁôΩ„ÅÑ‰∫∫„Å´Áõ¥Êé•‰ºö„Å£„Å¶„Ç§„É≥„Çø„Éì„É•„Éº„Åô„Çã', scores: { R:3 } },
      { text: 'Êµ∑Â§ñ„Çµ„Ç§„Éà„ÇÑÁï∞ÂàÜÈáé„ÅÆÊÉÖÂ†±„Çí„É™„Çµ„Éº„ÉÅ„Åô„Çã', scores: { A:3, U:1 } },
      { text: 'ÂΩ±ÈüøÂäõ„ÅÇ„Çã‰∫∫„Å®‰∏ÄÁ∑í„Å´ÂãïÁîª„ÉªÈÖç‰ø°„Çí‰Ωú„Çã', scores: { C:3 } },
    ],
  },
  {
    text: '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éì„Ç∏„Éç„Çπ„ÇíÂßã„ÇÅ„Çã‰∏ÄÁï™„ÅÆÂãïÊ©ü„ÅØÔºü',
    options: [
      { text: 'ÂâØÊ•≠„Å®„Åó„Å¶ÊâãËªΩ„Å´ÂèéÂÖ•„ÅÆÊü±„ÇíÂ¢ó„ÇÑ„Åó„Åü„ÅÑ', scores: { U:2, A:2 } },
      { text: 'Â≠¶„Å≥„ÅÆ„Éó„É≠„Çª„ÇπËá™‰Ωì„ÇíÂèéÁõäÂåñ„Åó„Åü„ÅÑ', scores: { P:3 } },
      { text: 'Ëá™ÂàÜ„ÅÆ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Éª‰∫∫ËÑà„ÇíÊ¥ª„Åã„Åó„Åü„ÅÑ', scores: { R:3 } },
      { text: 'Êó•Êú¨„Å´Â±ä„ÅÑ„Å¶„ÅÑ„Å™„ÅÑÊÉÖÂ†±„ÇíÂ∫É„ÇÅ„Åü„ÅÑ', scores: { A:3 } },
      { text: '„Åô„Åß„ÅÇ„ÇãÂΩ±ÈüøÂäõ„Çí‰Ωø„Å£„Å¶‰∏ÄÊ∞ó„Å´Êã°Â§ß„Åó„Åü„ÅÑ', scores: { C:3 } },
    ],
  },
  {
    text: 'Â∞ÜÊù•ÁöÑ„Å´„Å™„Çä„Åü„ÅÑÂßø„Å´‰∏ÄÁï™Ëøë„ÅÑ„ÅÆ„ÅØÔºü',
    options: [
      { text: 'ÊÉÖÂ†±„ÅÆ„Ç≠„É•„É¨„Éº„Çø„Éº„Å®„Åó„Å¶Â∞ÇÈñÄ„É°„Éá„Ç£„Ç¢„ÇíÈÅãÂñ∂', scores: { U:3, A:1 } },
      { text: 'Â≠¶„Å≥„Å®ÊàêÈï∑„ÇíÁô∫‰ø°„Åô„Çã„Ç§„É≥„Éï„É´„Ç®„É≥„Çµ„Éº', scores: { P:3 } },
      { text: 'Èù¢ÁôΩ„ÅÑ‰∫∫„Çí‰∏ñ„Å´ÈÄÅ„ÇäÂá∫„Åô„Éó„É≠„Éá„É•„Éº„Çµ„Éº', scores: { R:3 } },
      { text: 'Áï∞ÊñáÂåñ„ÉªÊµ∑Â§ñÊÉÖÂ†±„ÅÆÁ¨¨‰∏Ä‰∫∫ËÄÖ', scores: { A:3 } },
      { text: 'Ê•≠Áïå„ÅÆÂ§ßÁâ©„Å®„Ç≥„É©„Éú„Åó„Å¶„Éì„Ç∏„Éç„Çπ„ÇíÂ∏≠Â∑ª', scores: { C:3 } },
    ],
  },
];

// ===== STATE =====
let currentQ = 0;
let answers = []; // { optionIndex } per question
let scores = { R:0, A:0, C:0, P:0, U:0 };

// ===== FUNCTIONS =====
function startQuiz() {
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('progressWrap').classList.remove('hidden');
  document.getElementById('quizScreen').classList.remove('hidden');
  currentQ = 0;
  answers = [];
  scores = { R:0, A:0, C:0, P:0, U:0 };
  renderQuestion();
}

function renderQuestion() {
  const q = QUESTIONS[currentQ];
  document.getElementById('qNumber').textContent = `Q${currentQ+1} / ${QUESTIONS.length}`;
  document.getElementById('qText').textContent = q.text;

  // progress
  const pct = Math.round((currentQ / QUESTIONS.length) * 100);
  document.getElementById('progressFill').style.width = pct + '%';
  document.getElementById('progressText').textContent = `Ë≥™Âïè ${currentQ+1} / ${QUESTIONS.length}`;
  document.getElementById('progressPct').textContent = pct + '%';

  // back btn
  document.getElementById('backBtn').classList.toggle('hidden', currentQ === 0);

  // options
  const container = document.getElementById('optionsContainer');
  container.innerHTML = '';
  const labels = ['A','B','C','D','E'];
  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option' + (answers[currentQ] === i ? ' selected' : '');
    btn.innerHTML = `<div class="option-icon">${labels[i]}</div><span>${opt.text}</span>`;
    btn.onclick = () => selectOption(i);
    container.appendChild(btn);
  });

  // next btn state
  const nextBtn = document.getElementById('nextBtn');
  nextBtn.disabled = answers[currentQ] === undefined;
  nextBtn.textContent = currentQ === QUESTIONS.length - 1 ? 'ÁµêÊûú„ÇíË¶ã„Çã ‚úì' : 'Ê¨°„Å∏ ‚Üí';

  // re-trigger animation
  const screen = document.getElementById('quizScreen');
  screen.style.animation = 'none';
  requestAnimationFrame(() => { screen.style.animation = ''; });
}

function selectOption(i) {
  answers[currentQ] = i;
  document.querySelectorAll('.option').forEach((el, idx) => {
    el.classList.toggle('selected', idx === i);
  });
  document.getElementById('nextBtn').disabled = false;
}

function goNext() {
  if (answers[currentQ] === undefined) return;
  if (currentQ < QUESTIONS.length - 1) {
    currentQ++;
    renderQuestion();
  } else {
    showResult();
  }
}

function goBack() {
  if (currentQ > 0) { currentQ--; renderQuestion(); }
}

function calcScores() {
  const s = { R:0, A:0, C:0, P:0, U:0 };
  QUESTIONS.forEach((q, qi) => {
    const ans = answers[qi];
    if (ans === undefined) return;
    const sc = q.options[ans].scores;
    for (const [k, v] of Object.entries(sc)) s[k] += v;
  });
  return s;
}

function showResult() {
  scores = calcScores();
  const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
  const topKey = sorted[0][0];
  const type = TYPES[topKey];
  const maxScore = sorted[0][1];

  document.getElementById('quizScreen').classList.add('hidden');
  document.getElementById('progressWrap').classList.add('hidden');
  const rs = document.getElementById('resultScreen');
  rs.classList.remove('hidden');

  // hero
  const icon = document.getElementById('resultIcon');
  icon.textContent = type.emoji;
  icon.style.background = type.gradient;

  document.getElementById('resultTitle').textContent = type.name;
  document.getElementById('resultTitle').style.color = type.color;
  document.getElementById('resultTagline').textContent = type.tagline;

  document.getElementById('resultDesc').textContent = type.desc;
  document.getElementById('resultAction').textContent = type.action;

  // strengths
  const ul = document.getElementById('resultStrengths');
  ul.innerHTML = type.strengths.map(s =>
    `<li style="--dot:${type.color}"><span style="width:8px;height:8px;border-radius:50%;background:${type.color};flex-shrink:0;display:inline-block;"></span>${s}</li>`
  ).join('');

  // score bars
  const barsEl = document.getElementById('scoreBars');
  const typeOrder = ['R','A','C','P','U'];
  const totalPossible = maxScore > 0 ? maxScore : 1;
  barsEl.innerHTML = typeOrder.map(k => {
    const t = TYPES[k];
    const val = scores[k];
    const pct = Math.round((val / (totalPossible || 1)) * 100);
    return `
      <div class="score-row">
        <div class="score-name">${t.emoji} ${t.name.replace('Âûã','Âûã')}</div>
        <div class="score-bar-bg">
          <div class="score-bar-fill" style="width:0%;background:${t.gradient}" data-pct="${pct}"></div>
        </div>
        <div class="score-pct">${pct}%</div>
      </div>`;
  }).join('');

  // animate bars after paint
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      document.querySelectorAll('.score-bar-fill').forEach(el => {
        el.style.width = el.dataset.pct + '%';
      });
    });
  });
}

function retry() {
  document.getElementById('resultScreen').classList.add('hidden');
  document.getElementById('progressWrap').classList.remove('hidden');
  document.getElementById('quizScreen').classList.remove('hidden');
  currentQ = 0;
  answers = [];
  scores = { R:0, A:0, C:0, P:0, U:0 };
  renderQuestion();
}
</script>
</body>
</html>
