<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹5ã¤ã®å‹ è¨ºæ–­</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary:#6C5CE7;--primary-light:#A29BFE;--accent:#00CEC9;
  --bg:#0F0E17;--surface:#1A1926;--surface2:#252336;
  --text:#FFFFFE;--text-sub:#A7A9BE;
  --reporter:#FF6B6B;--arbitrage:#4ECDC4;--collab:#FFE66D;
  --prosumer:#A29BFE;--uber:#FF9FF3;
  --radius:16px;--shadow:0 8px 32px rgba(0,0,0,.3);
}
html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;
  background:var(--bg);color:var(--text);min-height:100dvh;
  display:flex;flex-direction:column;align-items:center;
  overflow-x:hidden;line-height:1.7;
}

/* â”€â”€ Background decoration â”€â”€ */
body::before{
  content:"";position:fixed;top:-30%;left:-10%;
  width:60vw;height:60vw;border-radius:50%;
  background:radial-gradient(circle,rgba(108,92,231,.15),transparent 70%);
  pointer-events:none;z-index:0;
}
body::after{
  content:"";position:fixed;bottom:-20%;right:-10%;
  width:50vw;height:50vw;border-radius:50%;
  background:radial-gradient(circle,rgba(0,206,201,.1),transparent 70%);
  pointer-events:none;z-index:0;
}

.container{
  position:relative;z-index:1;width:100%;max-width:680px;
  padding:24px 20px 60px;
}

/* â”€â”€ Header â”€â”€ */
header{text-align:center;padding:40px 0 32px}
header h1{
  font-size:1.6rem;font-weight:800;letter-spacing:.02em;
  background:linear-gradient(135deg,var(--primary-light),var(--accent));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
header p{margin-top:8px;color:var(--text-sub);font-size:.9rem}

/* â”€â”€ Progress bar â”€â”€ */
.progress-wrap{
  position:sticky;top:0;z-index:10;
  background:rgba(15,14,23,.85);backdrop-filter:blur(12px);
  padding:14px 0 10px;margin-bottom:16px;
}
.progress-bar{
  height:6px;border-radius:3px;background:var(--surface2);overflow:hidden;
}
.progress-fill{
  height:100%;width:0%;border-radius:3px;
  background:linear-gradient(90deg,var(--primary),var(--accent));
  transition:width .4s ease;
}
.progress-label{
  text-align:right;font-size:.75rem;color:var(--text-sub);margin-top:4px;
}

/* â”€â”€ Card / Question â”€â”€ */
.card{
  background:var(--surface);border:1px solid rgba(255,255,255,.06);
  border-radius:var(--radius);padding:32px 28px;
  box-shadow:var(--shadow);
  animation:fadeUp .45s ease both;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(24px)}
  to{opacity:1;transform:translateY(0)}
}
.card.hidden{display:none}
.q-number{
  font-size:.75rem;font-weight:700;color:var(--accent);
  text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px;
}
.q-text{font-size:1.15rem;font-weight:700;margin-bottom:24px}

/* â”€â”€ Options â”€â”€ */
.options{display:flex;flex-direction:column;gap:12px}
.opt-btn{
  display:flex;align-items:center;gap:14px;
  background:var(--surface2);border:2px solid transparent;
  border-radius:12px;padding:16px 20px;
  color:var(--text);font-size:.95rem;text-align:left;
  cursor:pointer;transition:all .2s ease;
  line-height:1.5;
}
.opt-btn:hover{
  border-color:var(--primary-light);
  background:rgba(108,92,231,.12);
  transform:translateX(4px);
}
.opt-btn .icon{
  flex-shrink:0;width:36px;height:36px;border-radius:10px;
  display:grid;place-items:center;font-size:1.1rem;
  background:rgba(255,255,255,.06);
}
.opt-btn:hover .icon{background:rgba(108,92,231,.25)}

/* â”€â”€ Intro & Result screens â”€â”€ */
.screen{text-align:center}
.screen.hidden{display:none}

.start-btn,.retry-btn,.share-btn{
  display:inline-flex;align-items:center;gap:8px;
  margin-top:28px;padding:16px 40px;
  border:none;border-radius:60px;font-size:1rem;font-weight:700;
  cursor:pointer;transition:all .25s ease;
  color:#fff;
}
.start-btn{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  box-shadow:0 4px 24px rgba(108,92,231,.4);
}
.start-btn:hover{transform:translateY(-2px);box-shadow:0 6px 32px rgba(108,92,231,.55)}

.retry-btn{
  background:var(--surface2);border:2px solid var(--primary-light);
  color:var(--primary-light);margin-right:12px;
}
.retry-btn:hover{background:rgba(108,92,231,.15)}

.share-btn{
  background:linear-gradient(135deg,var(--primary),#e84393);
  box-shadow:0 4px 20px rgba(232,67,147,.3);
}
.share-btn:hover{transform:translateY(-2px)}

/* â”€â”€ Result â”€â”€ */
.result-type-badge{
  display:inline-block;
  font-size:2rem;font-weight:900;
  margin:20px 0 8px;
  padding:8px 28px;border-radius:60px;
}
.result-subtitle{color:var(--text-sub);font-size:.95rem;margin-bottom:28px}
.result-desc{
  text-align:left;background:var(--surface2);
  border-radius:14px;padding:24px 22px;
  font-size:.93rem;line-height:1.85;margin-bottom:28px;
}
.result-desc strong{color:var(--accent)}

/* â”€â”€ All types overview â”€â”€ */
.all-types{text-align:left;margin-top:36px}
.all-types h3{
  font-size:1rem;font-weight:700;margin-bottom:16px;
  color:var(--text-sub);
}
.type-bar{
  display:flex;align-items:center;gap:12px;
  margin-bottom:10px;font-size:.85rem;
}
.type-bar .label{width:120px;flex-shrink:0;font-weight:600}
.type-bar .bar-bg{
  flex:1;height:10px;border-radius:5px;background:var(--surface);overflow:hidden;
}
.type-bar .bar-fill{
  height:100%;border-radius:5px;transition:width .6s ease;
}
.type-bar .pct{width:40px;text-align:right;color:var(--text-sub)}

/* â”€â”€ CTA â”€â”€ */
.cta-box{
  margin-top:36px;
  background:linear-gradient(135deg,rgba(108,92,231,.15),rgba(0,206,201,.1));
  border:1px solid rgba(108,92,231,.3);
  border-radius:var(--radius);padding:28px 24px;text-align:center;
}
.cta-box h3{font-size:1.05rem;margin-bottom:10px}
.cta-box p{font-size:.88rem;color:var(--text-sub);line-height:1.7}
.cta-box a{
  display:inline-block;margin-top:16px;padding:12px 32px;
  border-radius:60px;font-weight:700;font-size:.9rem;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:#fff;text-decoration:none;
  box-shadow:0 4px 20px rgba(108,92,231,.35);
  transition:all .25s ease;
}
.cta-box a:hover{transform:translateY(-2px);box-shadow:0 6px 28px rgba(108,92,231,.5)}

/* â”€â”€ Intro icons â”€â”€ */
.intro-icons{
  display:flex;justify-content:center;gap:12px;
  margin:24px 0 8px;flex-wrap:wrap;
}
.intro-icons span{
  display:inline-flex;align-items:center;gap:6px;
  padding:8px 16px;border-radius:60px;font-size:.82rem;font-weight:600;
  background:var(--surface2);
}

/* â”€â”€ Responsive â”€â”€ */
@media(max-width:480px){
  header h1{font-size:1.25rem}
  .card{padding:24px 18px}
  .q-text{font-size:1.05rem}
  .opt-btn{padding:14px 16px;font-size:.88rem}
  .result-type-badge{font-size:1.5rem}
}
</style>
</head>
<body>

<div class="container">

  <header>
    <h1>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹<br>5ã¤ã®å‹ è¨ºæ–­</h1>
    <p>7ã¤ã®è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®å‹ãŒã‚ã‹ã‚‹</p>
  </header>

  <!-- ====== INTRO ====== -->
  <div id="intro" class="card screen">
    <p style="font-size:1.1rem;font-weight:700;margin-bottom:12px">ã‚ãªãŸã«åˆã£ãŸ<br>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹ã®å‹ã‚’è¨ºæ–­ï¼</p>
    <p style="color:var(--text-sub);font-size:.9rem">
      ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹ã«ã¯5ã¤ã®å‹ãŒã‚ã‚Šã¾ã™ã€‚<br>
      ã‚ãªãŸã®çµŒé¨“ãƒ»æ€§æ ¼ãƒ»ç›®æ¨™ã‹ã‚‰ã€<br>æœ€é©ãªå‹ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚
    </p>
    <div class="intro-icons">
      <span style="color:var(--reporter)">ğŸ“¡ ãƒ¬ãƒãƒ¼ã‚¿ãƒ¼å‹</span>
      <span style="color:var(--arbitrage)">ğŸŒ ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸å‹</span>
      <span style="color:var(--collab)">ğŸ¤ ã‚³ãƒ©ãƒœå‹</span>
      <span style="color:var(--prosumer)">ğŸ“š ãƒ—ãƒ­ã‚·ãƒ¥ãƒ¼ãƒãƒ¼å‹</span>
      <span style="color:var(--uber)">ğŸ“¦ ã‚¦ãƒ¼ãƒãƒ¼ã‚¤ãƒ¼ãƒ„å‹</span>
    </div>
    <button class="start-btn" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ â†’</button>
    <p style="margin-top:16px;font-size:.75rem;color:var(--text-sub)">æ‰€è¦æ™‚é–“ï¼šç´„2åˆ† ï¼ å…¨7å•</p>
  </div>

  <!-- ====== PROGRESS ====== -->
  <div id="progress-section" class="progress-wrap hidden">
    <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
    <div id="progress-label" class="progress-label"></div>
  </div>

  <!-- ====== QUESTION ====== -->
  <div id="question-card" class="card hidden"></div>

  <!-- ====== RESULT ====== -->
  <div id="result" class="card screen hidden"></div>

</div>

<script>
const TYPES = {
  reporter:  {name:"ãƒ¬ãƒãƒ¼ã‚¿ãƒ¼å‹",    emoji:"ğŸ“¡", color:"#FF6B6B",
    desc:"ã‚ãªãŸã¯äººã‚’è¦‹ã‚‹ç›®ãŒã‚ã‚Šã€é¢ç™½ã„äººãƒ»ã‚¹ã‚´ã‚¤äººã‚’è¦‹ã¤ã‘ã¦<strong>ç´¹ä»‹ãƒ»ç™ºä¿¡ã™ã‚‹åŠ›</strong>ã«é•·ã‘ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼çš„ãªãƒã‚¸ã‚·ãƒ§ãƒ³ã§ã€æ¥­ç•Œã®å°‚é–€å®¶ã‚„ãƒ™ã‚¹ãƒˆã‚»ãƒ©ãƒ¼ä½œå®¶ã‚’ç´¹ä»‹ã—ãªãŒã‚‰ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹å‹ã§ã™ã€‚\n\n<strong>ã“ã‚“ãªäººã«ãŠã™ã™ã‚ï¼š</strong>\nãƒ»äººè„ˆãŒåºƒã„ã€ã¾ãŸã¯ã“ã‚Œã‹ã‚‰åºƒã’ãŸã„\nãƒ»äººã®é­…åŠ›ã‚’è¦‹æŠœãã®ãŒå¾—æ„\nãƒ»è‡ªåˆ†ãŒå‰é¢ã«å‡ºã‚‹ã‚ˆã‚Šã‚‚è£æ–¹ãŒå¥½ã"},
  arbitrage: {name:"ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸å‹", emoji:"ğŸŒ", color:"#4ECDC4",
    desc:"ã‚ãªãŸã¯æƒ…å ±æ„Ÿåº¦ãŒé«˜ãã€<strong>ã¾ã æ—¥æœ¬ã«çŸ¥ã‚‰ã‚Œã¦ã„ãªã„ä¾¡å€¤ã‚ã‚‹æƒ…å ±</strong>ã‚’è¦‹ã¤ã‘ã‚‹å—…è¦šãŒã‚ã‚Šã¾ã™ã€‚æµ·å¤–ã‚„ä»–æ¥­ç•Œã§æˆåŠŸã—ã¦ã„ã‚‹äº‹ä¾‹ã‚’æ—¥æœ¬å¸‚å ´ã«æŒã¡è¾¼ã‚€ã€Œæƒ…å ±ã®è£å®šå–å¼•ã€ã§å‹è² ã™ã‚‹å‹ã§ã™ã€‚AIæ™‚ä»£ã®ä»Šã€ã‹ãªã‚Šå§‹ã‚ã‚„ã™ã„ã®ãŒç‰¹å¾´ã€‚\n\n<strong>ã“ã‚“ãªäººã«ãŠã™ã™ã‚ï¼š</strong>\nãƒ»æµ·å¤–ã®æƒ…å ±ã«è§¦ã‚Œã‚‹æ©Ÿä¼šãŒã‚ã‚‹\nãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰ã«æ•æ„Ÿ\nãƒ»ã€Œã“ã‚Œæ—¥æœ¬ã«ã¯ã¾ã ãªã„ãªã€ã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒå¤šã„"},
  collab:    {name:"ã‚³ãƒ©ãƒœå‹",        emoji:"ğŸ¤", color:"#FFE66D",
    desc:"ã‚ãªãŸã¯äººã¨çµ„ã‚€ã“ã¨ã§åŠ›ã‚’ç™ºæ®ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚SNSã‚„YouTubeã€ãƒ©ã‚¤ãƒ–é…ä¿¡ãªã©ã§<strong>èª°ã‹ã¨ã‚³ãƒ©ãƒœã—ã¦ä¸€æ°—ã«ãƒãƒ¼ã‚±ãƒƒãƒˆã‚’åºƒã’ã‚‹</strong>æˆ¦ã„æ–¹ãŒåˆã£ã¦ã„ã¾ã™ã€‚ã™ã§ã«ã‚ã‚‹ç¨‹åº¦ã®åŸºç›¤ãŒã‚ã‚‹äººãŒæ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã«è¡ŒããŸã‚ã®å‹ã§ã™ã€‚\n\n<strong>ã“ã‚“ãªäººã«ãŠã™ã™ã‚ï¼š</strong>\nãƒ»æœˆå100ä¸‡ã€œ1000ä¸‡å††ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹\nãƒ»SNSã‚„YouTubeã§ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ãŒã„ã‚‹\nãƒ»ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆãƒ™ãƒ³ãƒãƒ£ãƒ¼ã«èˆˆå‘³ãŒã‚ã‚‹"},
  prosumer:  {name:"ãƒ—ãƒ­ã‚·ãƒ¥ãƒ¼ãƒãƒ¼å‹", emoji:"ğŸ“š", color:"#A29BFE",
    desc:"ã‚ãªãŸã¯<strong>å­¦ã³ãªãŒã‚‰ç¨¼ã</strong>ã“ã¨ã«æœ€ã‚‚é©ã—ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ï¼ˆProducerï¼‰ã¨æ¶ˆè²»è€…ï¼ˆConsumerï¼‰ã‚’åŒæ™‚ã«ã“ãªã™å‹ã§ã™ã€‚å„æ¥­ç•Œã®å°‚é–€å®¶ã‚’ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ã—ãªãŒã‚‰è‡ªåˆ†ã‚‚å­¦ã³ã€ãã®å­¦ã³ã‚’ã•ã‚‰ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã—ã¦ã„ãã¾ã™ã€‚\n\n<strong>ã“ã‚“ãªäººã«ãŠã™ã™ã‚ï¼š</strong>\nãƒ»å¥½å¥‡å¿ƒãŒå¼·ãã€å­¦ã¶ã“ã¨ãŒå¥½ã\nãƒ»è¤‡æ•°ã®åˆ†é‡ã«èˆˆå‘³ãŒã‚ã‚‹\nãƒ»ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã¨ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’åŒæ™‚ã«ã—ãŸã„"},
  uber:      {name:"ã‚¦ãƒ¼ãƒãƒ¼ã‚¤ãƒ¼ãƒ„å‹", emoji:"ğŸ“¦", color:"#FF9FF3",
    desc:"ã‚ãªãŸã¯æƒ…å ±ã‚’é›†ã‚ã¦æ•´ç†ã—ã€<strong>ã‚ã‹ã‚Šã‚„ã™ãå±Šã‘ã‚‹åŠ›</strong>ã‚’æŒã£ã¦ã„ã¾ã™ã€‚è‡ªåˆ†ã«å°‚é–€æ€§ãŒãªãã¦ã‚‚ã€ã™ã§ã«ã‚ã‚‹æƒ…å ±ã‚’ã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦å†ç·¨é›†ã™ã‚‹ã ã‘ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ãªã‚‹ã€‚ã€Œã€‡ã€‡ã®æœ¬100å†Šã‚’1å†Šã«ã¾ã¨ã‚ã¦ã¿ãŸã€ã®ã‚ˆã†ãªå‹ã§ã™ã€‚\n\n<strong>ã“ã‚“ãªäººã«ãŠã™ã™ã‚ï¼š</strong>\nãƒ»ç‰¹åˆ¥ãªã‚¹ã‚­ãƒ«ã‚„å®Ÿç¸¾ãŒã¾ã ãªã„\nãƒ»æƒ…å ±ã‚’æ•´ç†ã—ã¦ã¾ã¨ã‚ã‚‹ã®ãŒå¥½ã\nãƒ»ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã‚¼ãƒ­ãƒ»å®Ÿç¸¾ã‚¼ãƒ­ã‹ã‚‰ã§ã‚‚å§‹ã‚ãŸã„"}
};

const QUESTIONS = [
  {
    text:"ã‚ãªãŸã®ç¾åœ¨ã®çŠ¶æ³ã«ä¸€ç•ªè¿‘ã„ã®ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸŒ±", label:"ç‰¹åˆ¥ãªã‚¹ã‚­ãƒ«ã‚„å®Ÿç¸¾ã¯ã¾ã ãªã„",              scores:{uber:3}},
      {icon:"ğŸ¤", label:"é¢ç™½ã„äººè„ˆã‚„çŸ¥ã‚Šåˆã„ãŒå¤šã„",                scores:{reporter:3}},
      {icon:"ğŸŒ", label:"æµ·å¤–ã®æƒ…å ±ã«è§¦ã‚Œã‚‹æ©Ÿä¼šãŒå¤šã„",              scores:{arbitrage:3}},
      {icon:"ğŸ“±", label:"SNSã‚„YouTubeã§ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ãŒã„ã‚‹",            scores:{collab:3}},
      {icon:"ğŸ“–", label:"è‰²ã€…ãªåˆ†é‡ã«èˆˆå‘³ãŒã‚ã‚Šå­¦ã¶ã®ãŒå¥½ã",        scores:{prosumer:3}}
    ]
  },
  {
    text:"ã©ã‚“ãªåƒãæ–¹ãŒç†æƒ³ã§ã™ã‹ï¼Ÿ",
    opts:[
      {icon:"ğŸ¤", label:"äººã‚’ç´¹ä»‹ã—ãŸã‚Šã€ã¤ãªã’ãŸã‚Šã™ã‚‹ä»•äº‹",        scores:{reporter:3}},
      {icon:"ğŸ”", label:"æµ·å¤–ã‚„ä»–æ¥­ç•Œã®æœ€æ–°æƒ…å ±ã‚’ãƒªã‚µãƒ¼ãƒã™ã‚‹ä»•äº‹",  scores:{arbitrage:3}},
      {icon:"ğŸ¬", label:"èª°ã‹ã¨ä¸€ç·’ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é€²ã‚ã‚‹ä»•äº‹",      scores:{collab:3}},
      {icon:"ğŸ“", label:"å­¦ã³ãªãŒã‚‰åå…¥ã‚‚å¾—ã‚‰ã‚Œã‚‹ä»•äº‹",              scores:{prosumer:3}},
      {icon:"ğŸ“", label:"æƒ…å ±ã‚’é›†ã‚ã¦ã¾ã¨ã‚ã¦å±Šã‘ã‚‹ä»•äº‹",            scores:{uber:3}}
    ]
  },
  {
    text:"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹ã§ã®ç›®æ¨™ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸš€", label:"ã¾ãšã¯æœˆå10ã€œ30ä¸‡å††ã‚’å®‰å®šã•ã›ãŸã„",        scores:{uber:3,arbitrage:1}},
      {icon:"ğŸ’", label:"æœˆå100ä¸‡å††ä»¥ä¸Šã‚’ç›®æŒ‡ã—ãŸã„",                scores:{collab:3}},
      {icon:"ğŸ‘‘", label:"è‡ªåˆ†ã®ãƒ–ãƒ©ãƒ³ãƒ‰ã‚’ç¯‰ããŸã„",                  scores:{reporter:2,prosumer:2}},
      {icon:"ğŸ“š", label:"æ–°ã—ã„çŸ¥è­˜ã‚’å¾—ãªãŒã‚‰ç¨¼ããŸã„",              scores:{prosumer:3}},
      {icon:"âš¡", label:"ã§ãã‚‹ã ã‘æ—©ãçµæœã‚’å‡ºã—ãŸã„",               scores:{uber:2,arbitrage:2}}
    ]
  },
  {
    text:"ã‚ãªãŸã®ä¸€ç•ªã®å¼·ã¿ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸ’¬", label:"äººè„ˆã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŠ›",                scores:{reporter:2,collab:2}},
      {icon:"ğŸŒ", label:"èªå­¦åŠ›ã‚„æµ·å¤–çµŒé¨“",                          scores:{arbitrage:3}},
      {icon:"ğŸ§ ", label:"å¥½å¥‡å¿ƒæ—ºç››ã§ã‚¤ãƒ³ãƒ—ãƒƒãƒˆé‡ãŒå¤šã„",            scores:{prosumer:2,uber:1}},
      {icon:"âœ‚ï¸", label:"æƒ…å ±ã‚’æ•´ç†ãƒ»ç·¨é›†ã™ã‚‹åŠ›",                     scores:{uber:3}},
      {icon:"ğŸ¤·", label:"æ­£ç›´ã€ã¾ã å¼·ã¿ãŒè¦‹ã¤ã‹ã£ã¦ã„ãªã„",           scores:{uber:3}}
    ]
  },
  {
    text:"ä»–ã®äººã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¦‹ã¦ã‚ˆãæ€ã†ã“ã¨ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸ“£", label:"ã€Œã“ã®äººã‚’ã‚‚ã£ã¨å¤šãã®äººã«ç´¹ä»‹ã—ãŸã„ï¼ã€",  scores:{reporter:3}},
      {icon:"ğŸ’¡", label:"ã€Œã“ã‚Œæ—¥æœ¬ã«ã¯ã¾ã ãªã„æƒ…å ±ã ï¼ã€",          scores:{arbitrage:3}},
      {icon:"ğŸ¤", label:"ã€Œã“ã®äººã¨ä¸€ç·’ã«ä½•ã‹ã‚„ã‚ŠãŸã„ï¼ã€",          scores:{collab:3}},
      {icon:"ğŸ”¬", label:"ã€Œã‚‚ã£ã¨æ·±ãå­¦ã‚“ã§ã€è‡ªåˆ†ã‚‚ä¼ãˆãŸã„ï¼ã€",    scores:{prosumer:3}},
      {icon:"ğŸ“‹", label:"ã€Œã“ã®æƒ…å ±ã‚’ã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ãŸã„ï¼ã€",    scores:{uber:3}}
    ]
  },
  {
    text:"AIæ™‚ä»£ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹ã§ä¸€ç•ªã‚„ã‚ŠãŸã„ã“ã¨ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸ¯", label:"AIã‚’ä½¿ã£ã¦é¢ç™½ã„äººã‚„æƒ…å ±ã‚’ç™ºæ˜ãƒ»ç™ºä¿¡ã™ã‚‹",  scores:{reporter:3}},
      {icon:"ğŸŒ", label:"AIã§æµ·å¤–æƒ…å ±ã‚’ç¿»è¨³ãƒ»ç·¨é›†ã—ã¦æ—¥æœ¬ã«å±Šã‘ã‚‹",  scores:{arbitrage:3}},
      {icon:"ğŸ“ˆ", label:"AIã‚’æ´»ç”¨ã—ã¦ä»–ã®äººã¨ã®ã‚³ãƒ©ãƒœã‚’åŠ é€Ÿã•ã›ã‚‹",  scores:{collab:3}},
      {icon:"ğŸ”„", label:"AIã§å­¦ç¿’åŠ¹ç‡ã‚’ä¸Šã’ã¤ã¤è‡ªåˆ†ã‚‚æ•™ãˆã‚‹å´ã«ãªã‚‹",scores:{prosumer:3}},
      {icon:"ğŸ“¦", label:"AIã§å¤§é‡ã®æƒ…å ±ã‚’æ•´ç†ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã™ã‚‹",  scores:{uber:3}}
    ]
  },
  {
    text:"ãƒªã‚¹ã‚¯ã«å¯¾ã™ã‚‹è€ƒãˆæ–¹ã¯ï¼Ÿ",
    opts:[
      {icon:"ğŸ›¡ï¸", label:"ãƒªã‚¹ã‚¯ã¯æœ€å°é™ã«ã—ã¦å …å®Ÿã«å§‹ã‚ãŸã„",        scores:{uber:3}},
      {icon:"ğŸ²", label:"æƒ…å ±ã®ç›®åˆ©ãã«ã¯è‡ªä¿¡ãŒã‚ã‚‹",                scores:{arbitrage:3}},
      {icon:"ğŸ‘¥", label:"äººã¨çµ„ã‚€ã“ã¨ã§ãƒªã‚¹ã‚¯ã‚’åˆ†æ•£ã—ãŸã„",          scores:{reporter:2,collab:2}},
      {icon:"ğŸ“˜", label:"å‹‰å¼·ã—ãªãŒã‚‰æ…é‡ã«é€²ã‚ãŸã„",                scores:{prosumer:3}},
      {icon:"ğŸ”¥", label:"å¤§ããªãƒªã‚¿ãƒ¼ãƒ³ã®ãŸã‚ãªã‚‰ãƒªã‚¹ã‚¯ã‚‚å–ã‚Œã‚‹",    scores:{collab:3}}
    ]
  }
];

let currentQ = 0;
const scores = {reporter:0, arbitrage:0, collab:0, prosumer:0, uber:0};

function $(id){return document.getElementById(id)}

function startQuiz(){
  $("intro").classList.add("hidden");
  $("progress-section").classList.remove("hidden");
  showQuestion();
}

function showQuestion(){
  const q = QUESTIONS[currentQ];
  const total = QUESTIONS.length;
  $("progress-fill").style.width = ((currentQ)/total*100)+"%";
  $("progress-label").textContent = `${currentQ+1} / ${total}`;

  const card = $("question-card");
  card.classList.remove("hidden");
  card.style.animation = "none";
  void card.offsetWidth;
  card.style.animation = "";

  let html = `<div class="q-number">Question ${currentQ+1}</div>`;
  html += `<div class="q-text">${q.text}</div>`;
  html += `<div class="options">`;
  q.opts.forEach((o,i) => {
    html += `<button class="opt-btn" onclick="answer(${i})">
      <span class="icon">${o.icon}</span><span>${o.label}</span>
    </button>`;
  });
  html += `</div>`;
  card.innerHTML = html;
}

function answer(idx){
  const q = QUESTIONS[currentQ];
  const chosen = q.opts[idx].scores;
  for(const k in chosen) scores[k] += chosen[k];

  currentQ++;
  if(currentQ < QUESTIONS.length){
    showQuestion();
  } else {
    showResult();
  }
}

function saveProfile(type, allScores){
  const profile = JSON.parse(localStorage.getItem('cbProfile') || '{"quizzes":{}}');
  profile.quizzes = profile.quizzes || {};
  profile.quizzes.v1 = {
    type: type,
    scores: {...allScores},
    timestamp: new Date().toISOString()
  };
  profile.primaryType = type;
  localStorage.setItem('cbProfile', JSON.stringify(profile));
}

function showResult(){
  $("question-card").classList.add("hidden");
  $("progress-fill").style.width = "100%";
  $("progress-label").textContent = "å®Œäº†ï¼";

  const sorted = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
  const topKey = sorted[0][0];
  const top = TYPES[topKey];
  const maxScore = sorted[0][1];

  saveProfile(topKey, scores);

  const card = $("result");
  card.classList.remove("hidden");
  card.style.animation = "none";
  void card.offsetWidth;
  card.style.animation = "";

  let html = `<p style="font-size:.85rem;color:var(--text-sub);margin-bottom:4px">ã‚ãªãŸã«ã´ã£ãŸã‚Šã®å‹ã¯â€¦</p>`;
  html += `<div class="result-type-badge" style="background:${top.color}22;color:${top.color};border:2px solid ${top.color}">${top.emoji} ${top.name}</div>`;
  html += `<p class="result-subtitle">5ã¤ã®å‹ã®ä¸­ã§ã€ã‚ãªãŸã«æœ€ã‚‚åˆã£ãŸæˆ¦ã„æ–¹ã§ã™</p>`;
  html += `<div class="result-desc">${top.desc.replace(/\n/g,"<br>")}</div>`;

  html += `<div class="all-types"><h3>ã‚ãªãŸã®é©æ€§ã‚¹ã‚³ã‚¢</h3>`;
  sorted.forEach(([key,val]) => {
    const t = TYPES[key];
    const pct = maxScore > 0 ? Math.round(val/maxScore*100) : 0;
    html += `<div class="type-bar">
      <span class="label" style="color:${t.color}">${t.emoji} ${t.name}</span>
      <div class="bar-bg"><div class="bar-fill" style="width:${pct}%;background:${t.color}"></div></div>
      <span class="pct">${pct}%</span>
    </div>`;
  });
  html += `</div>`;

  html += `<div style="margin-top:32px">
    <button class="retry-btn" onclick="retry()">ğŸ”„ ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    <button class="share-btn" onclick="shareResult('${topKey}')">ğŸ“¤ çµæœã‚’ã‚·ã‚§ã‚¢</button>
  </div>`;

  html += `<div class="cta-box">
    <h3>ğŸ’¡ ã‚ãªãŸã®ã€Œå£²ã‚Œã‚‹ä¼ç”»ã€ã‚’ãƒ—ãƒ­ãŒç›´æ¥æ±ºã‚ã¾ã™</h3>
    <p>è¨ºæ–­çµæœã‚’ã‚‚ã¨ã«ã€<strong>ã‚ãªãŸã®å‹ã«åˆã‚ã›ãŸ</strong><br>
    ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—æ¡ˆå†…ãƒšãƒ¼ã‚¸ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚<br>
    é•·å€‰ãŒã‚ãªãŸã®ä¼ç”»ã‚’ãã®å ´ã§æ±ºã‚ã¾ã™ï¼</p>
    <a href="./lp/">ã‚ãªãŸå°‚ç”¨ã®ã”æ¡ˆå†…ã‚’è¦‹ã‚‹ â†’</a>
  </div>`;

  card.innerHTML = html;
}

function retry(){
  currentQ = 0;
  for(const k in scores) scores[k] = 0;
  $("result").classList.add("hidden");
  $("result").innerHTML = "";
  showQuestion();
}

function shareResult(typeKey){
  const t = TYPES[typeKey];
  const text = `ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹5ã¤ã®å‹ è¨ºæ–­ã€‘\nç§ã®è¨ºæ–­çµæœã¯ã€Œ${t.name}ã€ã§ã—ãŸï¼${t.emoji}\nã‚ãªãŸã‚‚ã‚„ã£ã¦ã¿ã¦ğŸ‘‡`;
  if(navigator.share){
    navigator.share({title:"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹5ã¤ã®å‹ è¨ºæ–­",text}).catch(()=>{});
  } else {
    navigator.clipboard.writeText(text).then(()=>{
      alert("çµæœãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼SNSã«è²¼ã‚Šä»˜ã‘ã¦ã‚·ã‚§ã‚¢ã—ã¦ãã ã•ã„ã€‚");
    }).catch(()=>{
      prompt("ä»¥ä¸‹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚·ã‚§ã‚¢ã—ã¦ãã ã•ã„ï¼š",text);
    });
  }
}
</script>
</body>
</html>
